profvis::profvis({if (start.sigma){
ez <- - Xb[y == 0] /sigma
ep <- (y - Xb)[y > 0] / sigma
mz <- mills(ez)
fp <- fs <- numeric(length(y))
fs[y == 0] <- - (ez + mz) * mz / sigma^2
fs[y >  0] <- - 1 / sigma^2
fp[y == 0] <- - mz / sigma
fp[y >  0] <- ep / sigma
fp <- tapply(fp, id, sum)
fs <- tapply(fs, id, sum)
return(sqrt(2) * sd(- fp / fs))
}})
getwd()
setwd('/home/yves/Dropbox/Forge/pglm/pkg/R/')
library("Formula");library("maxLik")
library("statmod")
source("pglm.R")
return(sqrt(2) * sd(- fp / fs))
data("PatentsRDUS", package="pglm")
la <- pglm(patents ~ lag(log(rd), 0:5) + scisect + log(capital72) + factor(year), PatentsRDUS,family = negbin,
           model = "within", print.level = 3, method = "nr",index = c('cusip','year’))
data("PatentsRDUS", package="pglm")
la <- pglm(patents ~ lag(log(rd), 0:5) + scisect + log(capital72) + factor(year), PatentsRDUS,family = negbin,
           model = "within", print.level = 3, method = "nr",index = c('cusip','year’))
data("PatentsRDUS", package="pglm")
la <- pglm(patents ~ lag(log(rd), 0:5) + scisect + log(capital72) + factor(year), PatentsRDUS,family = negbin,
           model = "within", print.level = 3, method = "nr",index = c('cusip','year'))
library("plm")
data("PatentsRDUS", package="pglm")
la <- pglm(patents ~ lag(log(rd), 0:5) + scisect + log(capital72) + factor(year), PatentsRDUS,family = negbin,
           model = "within", print.level = 3, method = "nr",index = c('cusip','year'))
ra <- system("ls *.R", intern = TRUE)
data("PatentsRDUS", package="pglm")
la <- pglm(patents ~ lag(log(rd), 0:5) + scisect + log(capital72) + factor(year), PatentsRDUS,family = negbin,
           model = "within", print.level = 3, method = "nr",index = c('cusip','year'))
ra <- lapply(system("ls *.R", intern = TRUE), source)
data("PatentsRDUS", package="pglm")
la <- pglm(patents ~ lag(log(rd), 0:5) + scisect + log(capital72) + factor(year), PatentsRDUS,family = negbin,
           model = "within", print.level = 3, method = "nr",index = c('cusip','year'))
mod1
summary(mod1)
